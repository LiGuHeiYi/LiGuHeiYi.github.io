---
layout: post
title: 路由器和桥接器
date: 2020-11-21
categories: blog
tags: [web,计算机网络]
description: 关于路由器和桥接器的一些知识笔记
typora-copy-images-to: ..\img
typora-root-url: ..
---

# 路由器

路由器在网络层。



路由器中的储存器里有一张路由表，里面存储着很多节点之间的最佳路由方案。但网络环境很复杂，有时还是需要动态路由。

# 桥接器

桥接器在在数据链路层。



交换机就是多端口桥接器。

桥接器在功能上与[集线器](https://zh.wikipedia.org/wiki/集线器)等其他用于连接网段的设备类似，不过后者工作在[物理层](https://zh.wikipedia.org/wiki/物理层)（OSI模型第1层）。

- 网桥能够识别数据链路层中的数据帧，并将这些数据帧临时存储于内存，再重新生成信号作为一个全新的数据帧转发给相连的另一个网段（network segment）。由于能够对数据帧拆包、暂存、重新打包（称为存储转发机制 store-and-forward），网桥能够连接不同技术参数传输速率的数据链路，如连接10BASE-T与100BASE-TX。
- 数据帧中有一个位叫做FCS，用来通过[CRC](https://zh.wikipedia.org/wiki/CRC32)方式校验数据帧中的位。网桥可以检查FCS，将那些损坏的数据帧丢弃。
- 网桥在向其他网段转发数据帧时会做冲突检测控制。
- 网桥还能通过地址自学机制和过滤功能控制网络流量，具有OSI第2层[网络交换机](https://zh.wikipedia.org/wiki/网络交换机)功能。这称为transparent bridge，由[DEC](https://zh.wikipedia.org/wiki/DEC)在1980年代发明[[4\]](https://zh.wikipedia.org/wiki/橋接器#cite_note-4)。其机制是网桥内部有一个数据库，最初没有数据。当网桥从一个网段收到一个数据帧，就会在数据库中登记（或者更新）数据帧的源地址属于这个网段，并检查数据包的目的地址。如果目的地址在数据库中属于另外一个网段，则网桥向该网段转发该数据帧；如果目的地址在数据库中没有记录，则网桥向除了源地址所在之外的其他所有网段转发（flood）该数据帧。
- 桥接器仅仅在不同网络之间有数据传输的时候才将数据转发到其他网络，不是像集线器那样对所有数据都进行广播。对于[以太网](https://zh.wikipedia.org/wiki/以太网)，“桥接”这一术语正式的含义是指符合[IEEE 802.1D](https://zh.wikipedia.org/wiki/IEEE_802.1D)标准的设备，即“网络切换”。桥接器可以分割网段，不似集线器仍是在为同一[碰撞域](https://zh.wikipedia.org/w/index.php?title=碰撞域&action=edit&redlink=1)，所以对带宽耗损较大。因桥接器透过其内之MAC表格，让发送帧不会通过，所以其称之为数据链接层操作之网络组件，可隔离碰撞。

若有通信频繁的机器，则应置于同区之内，否则性能将降低。