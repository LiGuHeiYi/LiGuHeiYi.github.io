---
layout: post
title: HTTP和HTTPs知识点的个人总结
date: 2020-11-22
categories: blog
tags: [web,计算机网络]
description: 笔记
typora-copy-images-to: ..\img
typora-root-url: ..
---

# HTTP和HTTPs知识点的个人总结

**HTTP**: 超文本传输协议

一种普遍建立在TCP协议基础上的互联网传输协议，用来规范浏览器和服务器之间的通信和数据传输，也就是**专门用来传输HTML页面的**。

是一种**应用层**的协议，比传输层的TCP协议更高一层。它们之间没有必然的依赖关系。

通俗地说，HTTP负责这个数据包的内容格式，它不管你的传输是否正确，是否成功，是否安全，它只管把HTML的页面以这种协议规范格式组合好。

而TCP不管你发的数据包内容是什么，它只管按照TCP协议的规范和流程将这个数据包发送到指定的对象手上。

所以，浏览器与网站服务器的沟通过程是这样的：

1.TCP三次握手

2.传输http数据包

3.TCP四次挥手

4.连接断开

所以，HTTP并不一定要依赖TCP,只要能进行数据传输，就能使用HTTP协议。



**HTTPs**：安全的HTTP（使用ssl/tls加密通信的HTTP）

**证书**：由合法、公认的CA机构用不对称加密算法（RSA）加密的**网站的公钥以及一些信息（包括网站信息以及证书信息）**。浏览器内置这些合法CA机构的公钥，所以能解密这个证书中的信息，从而验证这个证书的合法性以及得到网站的公钥。

实际上并不是只有CA机构能颁发证书，个人或私有组织、软件也能颁发证书，但浏览器收到个人或私有组织、软件颁发的证书会发出警告，用户可以选择是否相信这个组织或证书，这也是为什么使用burpsuite抓HTTPs的数据包需要安装bp的证书。

得到网站公钥不是直接用来传输数据的，而是用来加密接下来与服务器“商量”ssl加密通道的的消息的。

![https传输图解](/img/https-intro.png)

因为显然网站的公钥很容易获取，任何人只要拥有CA的公钥并向网站发起一次ssl连接请求，就能够得到网站的公钥，所以公钥不能直接用来加密客户端与服务器之间的“通话”，这样并没有安全可言。

但如上图所示，浏览器用公钥加密一个随机KEY，并发给服务器作为一个足够复杂的对称加密算法的KEY(密钥)，来进行接下来的数据传输，这种方式无疑安全的多，只要这种对称加密算法足够复杂。

因为这个随机KEY只有用私钥解密才能获得，没有私钥，截获了也没有用，所以第三方对此基本束手无策。

故，HTTPs是一种“基本绝对安全”的通信方式。



另，HTTPs连接一般比HTTP慢的多，因为，HTTP只需要TCP三次握手，发送三个数据包，HTTPs除了TCP三次握手，还有ssl九次握手（以后再详写），加起来一共十二个数据包。