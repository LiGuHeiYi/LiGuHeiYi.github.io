---
layout: post
title: php连接mysql
date: 2020-9-29
categories: blog
tags: [php,MySQL]
description: 如何将php页面与mysql数据库连接起来并输入指令
---

# php连接MySQL

在本地网站建一个这样的index.php,就能连接到本地MySQL服务器了，以下代码纯手撸~

```php+HTML
<?php
if($_POST['servername']&&$_POST['username']&&$_POST['passwd'])
{
        $servername=$_POST['servername'];
        $username=$_POST['username'];
        $password=$_POST['passwd'];
// $dbname=$_GET['dbname'];

        $sql = new mysqli($servername,$username,$password);
        if($sql->connect_error)
        {
                die("连接失败：".$sql->connect_error);
        }
        else
        {
                die("连接成功,5秒后跳转到命令输入界面");
                sleep(5);
                header('Location: cmd.php');
                exit;
// $require="INSERT INTO Student (name,number,class) VALUES ('Li','8074','2班');";

// $sql->query($require);
        }
}
else
{
?>
<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>连接数据库</title>
</head>
<body>
        <p>
        请输入服务器，用户名以及密码
        </p>
        <form action="index.php" method="post">
        服务器：<input type="text" name="servername">
        用户名：<input type="text" name="username">
        密码：<input type="password" name="passwd">
        <input type="submit" value="提交">
        </form>
</body>
</html>
<?php
}
?>
```

访问页面

![](\img\连接数据库.png)

这里输入啥就可以登陆啥了，我这里以root用户登录localhost

连接成功！

![](\img\连接成功.png)